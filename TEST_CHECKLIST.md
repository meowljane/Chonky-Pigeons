# 테스트 체크리스트

## Phase 1 - 코어 재미 테스트 ✅

### 기본 기능 테스트
- [ ] **플레이어 이동**: WASD/화살표키로 이동 가능한가?
- [ ] **덫 설치**: 마우스 클릭으로 덫이 설치되는가?
- [ ] **비둘기 스폰**: 덫 설치 시 비둘기 5마리가 스폰되는가?
- [ ] **비둘기 이동**: 비둘기들이 덫을 향해 이동하는가?
- [ ] **먹이 경쟁**: 비둘기들이 덫 주변에서 먹이를 먹는가? (콘솔 로그 확인)
- [ ] **포획 시스템**: 먹이가 0이 되면 비둘기 1마리가 포획되는가?

### 게임플레이 테스트
- [ ] **가만히 두기**: 가만히 두면 반드시 1마리 이상 포획되는가?
- [ ] **다양한 비둘기**: 여러 종의 비둘기가 스폰되는가? (현재는 첫 번째 종만)
- [ ] **비만도 차이**: 비만도에 따라 먹는 속도가 다른가?

## Phase 2 - 컨트롤 시스템 ✅

### 구현 완료된 것
1. **Alert 시스템 완성** ✅
   - ✅ 플레이어 접근 시 Alert 증가 (거리 기반)
   - ✅ 군집 밀도 계산 및 Alert 증가 (personalSpaceRadius 기반)
   - ✅ Alert 시각화 (디버그용 Gizmos)

2. **BackOff / Flee 행동** ✅
   - ✅ Alert가 backoffThreshold 이상이면 먹이 중단 (CanEat()으로 처리)
   - ✅ BackOff 상태에서 뒤로 물러나기 (덫/플레이어에서 멀어지는 방향)
   - ✅ Flee 상태에서 화면 밖으로 도망 (플레이어/화면 중심에서 멀어지는 방향)

3. **희귀 역전 가능 구조** ✅
   - ✅ 잡비둘기들이 Alert로 경쟁에서 이탈 (BackOff/Flee 상태에서 CanEat() = false)
   - ✅ 희귀 비둘기가 기회를 잡을 수 있는 구조 (Alert가 낮은 비둘기는 계속 먹이 경쟁 참여)

## 다음 테스트 시나리오

### 시나리오 1: 기본 포획
1. 덫 설치
2. 가만히 두기
3. 비둘기들이 먹이를 먹고 포획되는지 확인

### 시나리오 2: 플레이어 개입 (Phase 2) ✅ 구현 완료
1. 덫 설치
2. 비둘기들이 먹기 시작
3. 플레이어가 덫 주변으로 이동
4. 비둘기들이 Alert 증가로 경쟁에서 이탈하는지 확인
   - [ ] 플레이어 접근 시 Alert가 증가하는가?
   - [ ] Alert가 backoffThreshold 이상이면 BackOff 상태가 되는가?
   - [ ] BackOff 상태에서 비둘기가 덫에서 멀어지는가?
   - [ ] Alert가 fleeThreshold 이상이면 Flee 상태가 되는가?
   - [ ] Flee 상태에서 비둘기가 화면 밖으로 도망가는가?
5. 희귀 비둘기가 기회를 잡는지 확인
   - [ ] Alert가 낮은 비둘기는 계속 먹이 경쟁에 참여하는가?
   - [ ] 잡비둘기들이 이탈한 후 희귀 비둘기가 포획될 수 있는가?

### 시나리오 3: 군집 밀도 테스트
- [ ] 여러 비둘기가 가까이 모이면 Alert가 증가하는가?
- [ ] 군집 밀도가 높을수록 Alert 증가 속도가 빨라지는가?

## 현재 상태

✅ **완료된 것**
- 기본 이동 시스템
- 덫 설치 시스템
- 비둘기 스폰 및 이동
- 먹이 경쟁 시스템
- 포획 시스템
- **Alert 시스템 완성** (플레이어 접근 감지, 군집 밀도 계산)
- **BackOff/Flee 행동 구현** (상태별 이동 행동)
- **Alert 시각화** (디버그용 Gizmos)

## Phase 3 - 수집 & 경제 시스템 ✅

### 구현 완료된 것
1. **가격 시스템** ✅
   - ✅ 비둘기 가격 계산 (rarityBasePrice × obesityDiscount × faceBonus)
   - ✅ PigeonInstanceFactory에서 자동 계산

2. **인벤토리 시스템** ✅
   - ✅ 포획된 비둘기 자동 저장 (GameManager)
   - ✅ PigeonInstanceStats 복사본 저장 (Clone 메서드)

3. **판매 시스템** ✅
   - ✅ 개별 비둘기 판매 (SellPigeon)
   - ✅ 모든 비둘기 일괄 판매 (SellAllPigeons)
   - ✅ 판매 시 돈 획득

4. **덫 구매/해금 시스템** ✅
   - ✅ 덫 해금 상태 관리 (GameManager)
   - ✅ 덫 구매/해금 (UnlockTrap)
   - ✅ TrapPlacer에 해금 확인 로직 통합
   - ✅ 시작 덫 자동 해금 (BREAD)

5. **돈(Currency) 시스템** ✅
   - ✅ 돈 추가/차감 (AddMoney, SpendMoney)
   - ✅ 돈 변경 이벤트 (OnMoneyChanged)
   - ✅ 시작 돈 설정 (100)

6. **UI 시스템** ✅
   - ✅ 돈 표시 UI (MoneyDisplay)
   - ✅ 남은 먹이 표시 UI (FoodAmountDisplay) - 덫의 먹이 양 표시 (20 → 0)
   - ✅ 인벤토리 UI (InventoryUI) - I키로 토글
   - ✅ 덫 구매 UI (TrapShopUI) - T키로 토글
   - ✅ 현재 먹고 있는 비둘기 표시 UI (ActivePigeonDisplay)
   - ✅ Alert 상태 시각화 (색상 인디케이터)

⏳ **다음 단계**
- Phase 3 UI 테스트 및 Unity 씬 설정
- Phase 2 테스트 및 밸런스 조정
- 다양한 비둘기 종 스폰 시스템 개선

